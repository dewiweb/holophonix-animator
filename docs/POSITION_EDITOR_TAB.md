# Position Editor Tab - Visual Position Editing

## âœ¨ New Dedicated Workspace for Position Presets

**Navigation**: Sidebar â†’ **Position Editor** (ğŸ“¦ icon)

---

## ğŸ¯ Overview

The Position Editor is a **dedicated tab** with a **3D canvas view** where users can visually arrange tracks and create position presets - perfect for offline workflow!

### Key Features

- âœ… **Visual 3D Canvas** - See and arrange tracks spatially
- âœ… **Multiple View Modes** - Top, Side, Front, Perspective
- âœ… **Click & Drag** - Intuitive positioning
- âœ… **Quick Formations** - One-click circle, line, grid
- âœ… **Snap to Grid** - Precise positioning
- âœ… **Zoom Controls** - See details or overview
- âœ… **Multi-Selection** - Arrange multiple tracks at once
- âœ… **Instant Capture** - Create presets from current layout

---

## ğŸ“ Interface Layout

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ View: [Top] [Side] [Front] [Perspective]    [Grid] [Capture]â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ TRACKS (6)           â”‚
â”‚  â”‚                                â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€           â”‚
â”‚  â”‚         â—Track 1               â”‚  â”‚ â˜‘ Track 1            â”‚
â”‚  â”‚                                â”‚  â”‚   (2.5, 3.0, 1.5)    â”‚
â”‚  â”‚    â—Track 2      â—Track 3      â”‚  â”‚                      â”‚
â”‚  â”‚                                â”‚  â”‚ â˜ Track 2            â”‚
â”‚  â”‚              â—Track 4          â”‚  â”‚   (-1.0, 3.0, 1.2)   â”‚
â”‚  â”‚                                â”‚  â”‚                      â”‚
â”‚  â”‚    â—Track 5      â—Track 6      â”‚  â”‚ â˜ Track 3            â”‚
â”‚  â”‚                                â”‚  â”‚   (0.0, -3.0, 1.5)   â”‚
â”‚  â”‚                                â”‚  â”‚                      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ Quick Guide:         â”‚
â”‚  Grid: 0.5m                           â”‚ â€¢ Click to select    â”‚
â”‚  Zoom: 100%                           â”‚ â€¢ Drag to move       â”‚
â”‚                                       â”‚ â€¢ Shift+click multi  â”‚
â”‚  3 tracks selected: [Circle] [Line]  â”‚ â€¢ Use formations     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ® How to Use

### Basic Workflow

1. **Navigate** to Position Editor tab
2. **Select tracks** by clicking (Shift+click for multiple)
3. **Drag tracks** to desired positions
4. **Click "Capture Preset"** when done
5. âœ… Preset saved!

### View Modes

**Top View (X-Y plane)**
- Best for: Surround sound, audience coverage
- Shows: Horizontal positioning

**Side View (X-Z plane)**
- Best for: Height adjustments
- Shows: Vertical positioning

**Front View (Y-Z plane)**
- Best for: Stage depth and height
- Shows: Front-facing layout

**Perspective** (3D)
- Best for: Overall spatial understanding
- Shows: Full 3D view

---

## âš¡ Quick Actions

### Formation Buttons (When Tracks Selected)

**Circle**
- Arranges tracks in circular formation
- Perfect for: Surround sound, immersive scenes
- Default: 3m radius, 1.5m height

**Line**
- Arranges tracks in straight line
- Perfect for: Stage front, dialogue scenes
- Default: 1m spacing, 1.5m height

**Grid**
- Arranges tracks in grid pattern
- Perfect for: Audience areas, uniform coverage
- Automatically calculates rows/columns

### Toolbar Controls

| Button | Function |
|--------|----------|
| Grid icon | Toggle grid visibility |
| Grid icon (filled) | Toggle snap to grid |
| Zoom Out | Decrease zoom level |
| Zoom In | Increase zoom level |
| Camera | Open capture preset dialog |

---

## ğŸ¨ Visual Features

### Grid System
- Adjustable grid size (default 0.5m)
- Snap to grid for precise positioning
- X/Y axes clearly marked
- Coordinates displayed per track

### Track Representation
- **Colored circles** - Track indicators
- **Blue highlight** - Selected tracks
- **Larger circle** - Currently dragging
- **Name labels** - Track identification
- **Coordinates** - Current position (x, y, z)

### Selection States
- **Unselected**: Track color (green by default)
- **Selected**: Blue fill with blue outline
- **Dragging**: Slightly larger, follows mouse

---

## ğŸ¯ Use Cases

### 1. Pre-Show Planning (Offline)

```
Use Case: Design spatial positions before Holophonix device available

Workflow:
1. Go to Position Editor
2. Drag tracks to planned positions
3. Test different formations (Circle, Line, Grid)
4. Capture as presets
5. Export presets
6. On show day: Import & execute

Time: 5-10 minutes per scene
Result: Complete preset library ready for show
```

### 2. Quick Formation Setup

```
Use Case: Need standard surround setup

Workflow:
1. Select all tracks (Shift+click)
2. Click "Circle" button
3. Adjust if needed (drag individual tracks)
4. Click "Capture Preset"
5. Done!

Time: 30 seconds
Result: Perfect surround formation preset
```

### 3. Scene Positioning

```
Use Case: Design positions for theatrical scenes

Workflow:
1. Switch to Top view
2. Position actors in scene layout
3. Switch to Side view
4. Adjust heights
5. Capture preset per scene
6. Create position cues in Cue Grid

Time: 2-3 minutes per scene
Result: Position presets for entire show
```

### 4. Experimentation

```
Use Case: Try different spatial arrangements

Workflow:
1. Load existing preset (if any)
2. Modify positions visually
3. Test with different views
4. Capture variations
5. Compare in PresetManager

Time: Flexible
Result: Multiple preset variations to choose from
```

---

## ğŸ’¡ Pro Tips

### Tip 1: Use Grid Snap
Enable snap-to-grid for clean, organized layouts. Disable for fine adjustments.

### Tip 2: Multi-Select + Formation
Select multiple tracks, apply formation, then tweak individual positions.

### Tip 3: View Switching
Switch between views to verify positioning in all dimensions:
- Top â†’ Horizontal layout
- Side â†’ Heights
- Front â†’ Stage depth

### Tip 4: Zoom for Precision
Zoom in for precise positioning, zoom out to see overall layout.

### Tip 5: Pre-select Before Capture
Select specific tracks in editor, they'll be pre-selected in capture dialog.

---

## ğŸš€ Keyboard Shortcuts (Future)

Planned shortcuts:
- `Space` - Toggle between view modes
- `G` - Toggle grid
- `S` - Toggle snap
- `+/-` - Zoom in/out
- `C` - Capture preset
- `Delete` - Reset selected tracks to origin
- `Ctrl+A` - Select all
- `Esc` - Clear selection

---

## ğŸ¨ Technical Details

### Canvas Rendering
- **Resolution**: 800Ã—600 pixels
- **Scale**: 40 pixels per meter (at 100% zoom)
- **Coordinate System**: Standard Cartesian (X right, Y up)
- **Frame Rate**: 60 FPS smooth rendering

### Coordinate Conversion
- Screen coordinates â†’ World coordinates
- Automatic axis mapping per view mode
- Snap-to-grid rounding when enabled

### Track Interaction
- Click detection: 10-pixel radius
- Drag precision: Pixel-perfect with snap
- Multi-select: Shift+click additive

---

## ğŸ“Š Comparison with Console Methods

| Feature | Console Functions | Position Editor |
|---------|------------------|-----------------|
| Visual | âŒ No | âœ… Yes |
| Intuitive | âŒ No | âœ… Yes |
| Real-time preview | âŒ No | âœ… Yes |
| Multi-view | âŒ No | âœ… Yes |
| Drag & drop | âŒ No | âœ… Yes |
| Learning curve | âš ï¸ High | âœ… Low |
| Precision | âœ… Yes | âœ… Yes |
| Speed | âš ï¸ Medium | âœ… Fast |

**Winner**: Position Editor for 99% of use cases!

---

## ğŸ”„ Integration Points

### With Preset System
- Direct capture to preset store
- Pre-selects tracks in capture dialog
- Instant preview of formations

### With Track System
- Reads/writes `track.position`
- Updates in real-time
- Respects track colors

### With Cue System
- Creates presets for position cues
- Seamless workflow: Edit â†’ Capture â†’ Cue

---

## ğŸ¯ Future Enhancements

### Phase 1: Current âœ…
- 2D canvas with multiple views
- Click & drag positioning
- Quick formations
- Grid & snap

### Phase 2: Planned
- True 3D perspective rendering
- Camera rotation controls
- Track labels always visible
- Distance measurement tool

### Phase 3: Advanced
- Trajectory preview (show animation paths)
- Collision detection
- Room boundary visualization
- Import room layouts (CAD/image)

---

## ğŸ“ User Feedback

Based on spatial audio best practices:

### What Users Want
1. âœ… Visual representation of space
2. âœ… Easy repositioning
3. âœ… Quick standard formations
4. âœ… Height control (Z-axis)
5. âœ… Accurate measurements

### What We Delivered
All 5 requirements met in Position Editor! âœ¨

---

## ğŸ‰ Summary

### The Position Editor Tab is Perfect For:

- âœ… **Offline preset creation** - No Holophonix device needed
- âœ… **Visual workflow** - See what you're doing
- âœ… **Quick formations** - One-click standard setups
- âœ… **Precise positioning** - Grid and coordinate display
- âœ… **Multi-view** - Verify in all dimensions
- âœ… **Intuitive UX** - Drag and drop, no coding
- âœ… **Complete workflow** - Edit â†’ Capture â†’ Cue â†’ Execute

### Result
**Professional spatial audio positioning without console commands!** ğŸ¨ğŸ§

---

*Position Editor Tab - Making spatial audio positioning visual and intuitive!*
